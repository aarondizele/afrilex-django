{% extends "base.html" %}

{% block head_title %}{{title}}{% endblock %}

{% block content %}

<h1>Créer un compte</h1>
<div class="row">
    <form action="" method="post" class="col-12 col-md-8 mx-auto">
        {% csrf_token %}
        <div class="form-group">
            <label for="">Nom d'utilisateur</label>
            {{form.username}}
        </div>
        <div class="form-group">
            <label for="">{{form.first_name.label}}</label>
            {{form.first_name}}
        </div>
        <div class="form-group">
            <label for="">{{form.last_name.label}}</label>
            {{form.last_name}}
        </div>
        <div class="form-group">
            <label for="">{{form.email.label}}</label>
            {{form.email}}
        </div>
        <div class="form-group">
            <label for="">Mot de passe</label>
            {{form.password1}}
        </div>
        <div class="form-group">
            <label for="">Répéter votre mot de passe</label>
            {{form.password2}}
        </div>
        
        {% for error in form.errors %}
        <small style="color:red">{{error}}</small>
        {% endfor %}

        <!-- {% for field in form %}
        <p>
    
            {{field.label}}
            {{field}}
            {% if field.help_text %}
            <small style="color:grey">{{field.help_text}}</small>
            {% endif %}
            {% for error in field.errors %}
            <small style="color:red">{{error}}</small>
            {% endfor %}
        </p>
        {% endfor %} -->
        <button type="submit" class="btn btn-primary">S'inscrire</button>
    </form>
    <p>Avez-vous un compte? <a href="{% url 'login' %}">Se connecter</a></p>
</div>


<script>
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder="Nom d'utilisateur"
    form_fields[2].placeholder="Nom de famille"
    form_fields[3].placeholder="Prénom"

    for (var field in form_fields) {
        form_fields[field].className += 'form-control'
    }
</script>

{% endblock %}